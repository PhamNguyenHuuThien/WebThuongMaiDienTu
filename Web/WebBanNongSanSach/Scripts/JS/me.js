var $lang_js_me_tentruycap_empty = "Hãy nhập vào tên truy cập của bạn!";var $lang_js_me_matkhau_empty = "Hãy nhập vào mật khẩu của bạn!";var $lang_js_me_mabaove_empty = "Hãy nhập mã bảo vệ";var $lang_js_me_cart_tendaydu = "Xin vui lòng nhập vào họ tên người liên hệ!";var $lang_js_me_cart_email = "Hãy nhập vào địa chỉ Email mà bạn đang sử dụng";var $lang_js_me_email_error = "Địa chỉ email phải đúng cú pháp, ví dụ: info@tenmien.vn!";var $lang_js_me_cart_diachi = "Xin vui lòng nhập vào địa chỉ liên lạc của bạn!";var $lang_js_me_cart_dienthoai = "Xin vui lòng nhập vào số điện thoại để chủ eShop liên lạc với bạn nhanh nhất!";var $lang_js_me_tentruycap_lonhon6 = "Tên Truy Cập phải lớn hơn 6 ký tư";var $lang_js_me_tentruycap_batdauaz = "Và bắt đầu bằng 1 chữ từ A-Z!";var $lang_js_me_email_exist = "Email đã tồn tại trong hệ thống!";var $lang_js_me_thanks_reg = "Cảm ơn bạn đã đăng ký trên hệ thống của chúng tôi!";var $lang_js_me_matkhau_now = "Nhập vào mật khẩu hiện tại của bạn";var $lang_js_me_matkhau_new = "Nhập vào mật khẩu MỚI của bạn";var $lang_js_me_please_login = "Vui lòng đăng nhập trước khi tiếp tục!";var $lang_js_me_exist_sp_like = "Bạn đã chọn THÍCH sản phẩm này rồi :)";var $lang_js_me_exist_sp_want = "Bạn đã chọn MUỐN sản phẩm này rồi :)";var $lang_js_me_sp_like = "Bạn đã chọn THÍCH sản phẩm này!";var $lang_js_me_sp_want = "Bạn đã chọn MUỐN sản phẩm này!";var $lang_js_me_code_error = "Xin vui lòng nhập mã bảo vệ đúng";var $lang_js_me_messenger_error = "Xin vui lòng nhập nội dung";var $lang_js_me_phone_error = "Số điện thoại phải đủ 10 số hoặc lớn hơn, ví dụ: 0967897890";var $lang_js_me_giatri_kolonhon = "Giá trị không được lớn hơn";var $lang_js_me_giaitri_konhohon1 = "Giá trị không được nhỏ hơn 1";var $lang_js_me_giaitri_chuathietlap = "chưa thiết lập giá bán hoặc giá bán là thương lượng";var $lang_js_me_them_sp_gio_hang = "Thêm vào giỏ hàng thành công";var $lang_js_me_empty_ctu = "Vui lòng chọn phương thức vận chuyển cho đơn hàng này";var $lang_js_me_matkhau_nhaplai = "Mật khẩu nhập lại không khớp";var $lang_js_me_empty_ngaydatphong = "Vui lòng chọn ngày đặt phòng";var $lang_js_me_empty_ngaytraphong = "Vui lòng chọn ngày trã phòng";var $lang_bds_nhap_email = "Nhập địa chỉ email";var $lang_bds_tin_xem_nhieu = "Tin xem nhiều";var $lang_bds_lienket_morong = "Liên kết mở rộng";var $lang_bds_xemtatca = "Xem tất cả";var $lang_bds_dangtin = "Đăng tin";var $lang_bds_tieudetin_placehoder = "Nhập địa điểm, vd: The Manor";var $lang_bds_search_loaibatdongsan = "Loại bất động sản";var $lang_bds_search_tinhthanh = "Tỉnh/Thành Phố";var $lang_bds_search_quanhuyen = "Quận/Huyện";var $lang_bds_search_dientich = "Diện tích";var $lang_bds_search_mucgia = "Mức giá";var $lang_bds_search_phuongxa = "Phường/Xã";var $lang_bds_search_duongpho = "Đường/Phố";var $lang_bds_search_sophongngu = "Số phòng ngủ";var $lang_bds_search_huongnha = "Hướng nhà";var $lang_bds_search_duan = "Dự án";var $lang_bds_search_timkiem = "Tìm kiếm";var $lang_bds_search_timkiem_nc = "Tìm kiếm nâng cao";var $lang_bds_search_timkiem_nc_bo = "Bỏ tìm kiếm nâng cao";var $lang_bds_duannoibat = "Dự án nổi bật";var $lang_bds_tinraomoinhat = "Tin rao mới nhất";var $lang_bds_gia = "Giá";var $lang_bds_thoathuan = "Thỏa thuận";var $lang_bds_diadiem = "Địa điểm";var $lang_bds_vitri = "Vị trí ";var $lang_bds_tintin_noibat = "Tin tức nổi bật";var $lang_bds_khongcoduan = "Không có dự án thuộc chủ đề này";var $lang_bds_khongcotindang = "Không có tin rao thuộc bất động sản này";var $lang_bds_diachi = "Địa chỉ";var $lang_bds_bando = "Bản đồ";var $lang_bds_binhluan = "Bình luận";var $lang_bds_duancungkhuvuc = "Dự án cùng khu vực";var $lang_bds_chudautu = "Chủ đầu tư";var $lang_bds_tongquan = "Tổng quan";var $lang_bds_tongquanduan = "Tổng quan dự án";var $lang_bds_dangcapnhat = "Đang cập nhật";var $lang_bds_dienthoai = "Điện thoại";var $lang_bds_sapxeptheo = "Sắp xếp theo";var $lang_bds_danhsachtinrao = "Danh sách tin rao";var $lang_bds_timkiemtheotieuchi = "Tìm kiếm theo các tiêu chí";var $lang_bds_co = "Có";var $lang_bds_batdongsan = "bất động sản";var $lang_bds_hinhanh = "Hình ảnh";var $lang_bds_khuvuc = "Khu vực";var $lang_bds_thongtinmota = "Thông tin mô tả";var $lang_bds_dacdiembds = "Đặc điểm bất động sản";var $lang_bds_maso = "Mã số";var $lang_bds_loaitinrao = "Loại tin rao";var $lang_bds_ngaydangtin = "Ngày đăng tin";var $lang_bds_ngayhethan = "Ngày hết hạn";var $lang_bds_duongvao = "Đường vào";var $lang_bds_mattien = "Mặt tiền";var $lang_bds_sotoilet = "Số toilet";var $lang_bds_sotang = "Số tầng";var $lang_bds_sophong = "Số phòng";var $lang_bds_thongtinlienhe = "Thông tin liên hệ";var $lang_bds_tenlienlac = "Tên liên lạc";var $lang_bds_didong = "Di động";var $lang_bds_email = "Email";var $lang_bds_intinnay = "In tin này";var $lang_bds_tinraocungkhuvuc = "Tin rao cùng khu vực";var $lang_bds_tinraocungkhoangia = "Tin rao cùng khoảng giá";var $lang_bds_tinraothuocduan = "Tin rao thuộc dự án";var $lang_bds_diadiem_tai = "tại";var $lang_bds_timkiembds = "Tìm kiếm bất động sản";var $lang_bds_tindangnoibat = "Tin đăng nổi bật";var $lang_bds_tinnanghotro = "Tính năng hỗ trợ";var $lang_bds_timkiemduan = "Tìm kiếm dự án";var $lang_bds_danhsachduan = "Danh sách dự án";var $lang_bds_mem_qltr = "Quản lý tin rao";var $lang_bds_mem_dtrao = "Đăng tin rao";var $lang_bds_mem_qltrao = "Quản lý tin rao";var $lang_bds_mem_menuql = "Menu quản lý";var $lang_bds_mem_matin = "Mã tin";var $lang_bds_mem_tungay = "Từ ngày";var $lang_bds_mem_denngay = "Đến ngày";var $lang_bds_mem_trangthai = "Trạng thái";var $lang_bds_mem_daduyet = "Đã duyệt";var $lang_bds_mem_chuaduyet = "chưa duyệt";var $lang_bds_mem_tuchoi = "Từ chối";var $lang_bds_mem_tinhethan = "Tin hết hạn";var $lang_bds_mem_tieudetin = "Tiêu đề tin";var $lang_bds_mem_ltdtd = "Lấy tiêu đề tự động";var $lang_bds_mem_duongdan = "Đường dẫn";var $lang_bds_mem_thaotac = "Thao tác";var $lang_bds_mem_chuacotin = "Chưa có tin rao nào";var $lang_bds_mem_post_ttcb = "THÔNG TIN CƠ BẢN";var $lang_bds_mem_post_loaind = "Loại nhà đất";var $lang_bds_mem_post_ttk = "THÔNG TIN KHÁC";var $lang_bds_mem_post_mattien = "Mặt tiền";var $lang_bds_mem_post_duongtruocnha = "Đường trước nhà";var $lang_bds_mem_post_ndmt = "Nội dung mô tả";var $lang_bds_mem_post_hatd = "Hình ảnh tin đăng";var $lang_bds_mem_post_tktk = "Từ khóa tìm kiếm";var $lang_bds_mem_post_ttbd = "THÔNG TIN BẢN ĐỒ";var $lang_bds_mem_post_ttlh = "THÔNG TIN LIÊN HỆ";var $lang_bds_mem_post_xemtruoc = "Xem trước";var $lang_bds_mem_post_dangtin = "Đăng tin";var $lang_bds_mem_post_capnhat = "Cập nhật";var $lang_bds_mem_post_huybo = "Hủy bỏ";var $lang_bds_mem_post_xoatin = "Bạn thật sự muốn xóa tin này?";var $lang_bds_mem_post_xoatint = "Thành công! Tin rao đã được xóa.";var $lang_bds_mem_post_daduyet = "Đã duyệt";var $lang_bds_mem_post_chuaduyet = "Chưa duyệt";var $lang_bds_mem_post_tuchoi = "Từ chối";var $lang_bds_news_xemtiep = "Xem tiếp";var $lang_bds_news_category_xemtiep = "Xem thêm";var $lang_bds_post_thongbao_hetluot = "Đã hết lượt đăng tin.";var $lang_bds_post_accept_file = "Vui lòng upload các file có định dạng: .jpeg/.jpg/.png only.";var $lang_bds_post_accept_file_size = "Dung lượng file upload vượt quá giới hạn cho phép";var $lang_bds_post_chuy_upload_file = "Bạn có thể tải 5 ảnh và mỗi ảnh dung lượng không quá";var $lang_js_me_bds_tieudetin_empty = "Vui lòng nhập tiêu đề tin";var $lang_js_me_bds_loaibds_empty = "Vui lòng chọn loại bất động sản";var $lang_js_me_bds_tinhthanh_empty = "Vui lòng chọn tỉnh - thành phố";var $lang_js_me_bds_hotenlienhe_empty = "Vui lòng nhập họ tên liên hệ";$(function(){});var $fullpath = "http://webnongnghiep.web30s.vn";var $mainkey_news_seo_name = "san-pham";
$(function () {
    $('#fbutton').click(function () {
        $('#pic').click();
        return false;
    });
    $(".microformat").hover(function () {
        $(this).find('.autohide').show();
    }, function () {
        $(this).find('.autohide').hide();
    });
    $('select.url_dropdown').on('change', function () {
        window.location.href = $(this).val();
    });
    if ($('.bxslider').length > 0) {
        $('.bxslider').bxSlider({auto: true, autoControls: true});
    }
    $(".box_nullstyle").hover(function () {
        $(this).find("a.butthree").stop().fadeTo(200, 1);
    }, function () {
        $(this).find("a.butthree").stop().fadeTo(200, 0);
    });
    $(".butthree").stop().fadeTo(0, 0);
    $(document).on("click", "#btnlogin_cm", function (e) {
        var dataString = "alive_hoten=" + $('#alive_hoten').val() + "&alive_email=" + $('#alive_email').val() + "&alive_dienthoai=" + $('#alive_dienthoai').val() + "&alive_url=" + $('#alive_url').val() + "&alive_comment=" + $('#alive_comment').val() + "&alive_domain=" + $('#alive_domain').val();
        $.ajax({
            type: "POST", url: "/alive_comment", data: dataString, success: function (response) {
                var obj = jQuery.parseJSON(response);
                if (obj.error > 0) {
                    $('#alive_message').html(obj.ms);
                } else {
                    location.reload();
                }
            }
        });
    });
    $(document).on("click", "#btn_alive_cm", function (e) {
        var dataString = "alive_url=" + $('#alive_url').val() + "&alive_comment=" + $('#alive_comment').val() + "&alive_domain=" + $('#alive_domain').val();
        $.ajax({
            type: "POST", url: "/alive_comment", data: dataString, beforeSend: function () {
                $('#js_new_feed_comment').addClass('alive_update');
            }, success: function (response) {
                $('#js_new_feed_comment').removeClass('alive_update');
                var obj = jQuery.parseJSON(response);
                if (obj.error > 0) {
                    alert(obj.ms);
                } else {
                    $('#js_new_feed_comment').html(obj.ms);
                }
            }
        });
    });
});function On_focus(id1, id2) {
    $("#" + id2).hide();
    $("#" + id1).show();
    $('#' + id1).focus();
}function On_out(id1, id2) {
    if ($("#" + id1).val().length < 1) {
        $("#" + id1).hide();
        $("#" + id2).show();
    }
}function Admin_MENU(id) {
    $(".qlchung").hide();
    $("#" + id).show('slow');
}function center_modal(modal_id) {
    var that = $('#' + modal_id);
    var modalheight = that.outerHeight();
    var top, left, topx, leftx;
    top = Math.max($("#overlay").height() - that.outerHeight(), 0) / 2;
    left = Math.max($("#overlay").width() - that.outerWidth(), 0) / 2;
    topx = top + $("#overlay").scrollTop();
    leftx = left + $("#overlay").scrollLeft();
    that.css({'top': topx, 'left': leftx, "position": "absolute", "z-index": 9999});
}function close_modal() {
    $('html').removeClass("ov");
    $('#overlay').hide();
    $('.modal_window').hide();
}function ShowColorPicker() {
    $("#left_global_panel_id").toggle();
}function show_modal(modal_id, modal_true) {
    var window_width = $(window).width();
    var window_height = $(document).height();
    var that = $('#' + modal_id);
    $("#overlay").css({'display': 'block'});
    if (modal_true) {
        $("#overlay_in").removeAttr('onclick');
        $("#overlay_in").css({'height': 0, 'cursor': 'auto'});
    } else {
        $("#overlay_in").attr('onclick', 'close_modal();');
        $("#overlay_in").css({'height': that.height(), 'cursor': 'pointer'});
    }
    $('html').addClass("ov");
    center_modal(modal_id);
    that.show();
}function Change_Tabs(name, tongso, id) {
    var i;
    for (i = 1; i <= tongso; i++) {
        if (i == id) {
            $("#" + name + id).addClass('active');
            $("#content_" + name + id).show();
        } else {
            $("#" + name + i).removeClass('active');
            $("#content_" + name + i).hide();
        }
    }
}function ajaxloader(name, url) {
    $("#" + name).html("<img src='http://webnongnghiep.web30s.vn/images/loading/loading7.gif' alt='loading bang.vn'/>");
    $("#" + name).load(url);
}function ShowLostPass() {
    $("#lostpass").show();
}function MM_jumpMenu(targ, selObj, restore) {
    eval(targ + ".location='" + selObj.options[selObj.selectedIndex].value + "'");
    if (restore) selObj.selectedIndex = 0;
}function MM_swapImgRestore() {
    var i, x, a = document.MM_sr;
    for (i = 0; a && i < a.length && (x = a[i]) && x.oSrc; i++) x.src = x.oSrc;
}function MM_preloadImages() {
    var d = document;
    if (d.images) {
        if (!d.MM_p) d.MM_p = new Array();
        var i, j = d.MM_p.length, a = MM_preloadImages.arguments;
        for (i = 0; i < a.length; i++) if (a[i].indexOf("#") != 0) {
            d.MM_p[j] = new Image;
            d.MM_p[j++].src = a[i];
        }
    }
}function MM_findObj(n, d) {
    var p, i, x;
    if (!d) d = document;
    if ((p = n.indexOf("?")) > 0 && parent.frames.length) {
        d = parent.frames[n.substring(p + 1)].document;
        n = n.substring(0, p);
    }
    if (!(x = d[n]) && d.all) x = d.all[n];
    for (i = 0; !x && i < d.forms.length; i++) x = d.forms[i][n];
    for (i = 0; !x && d.layers && i < d.layers.length; i++) x = MM_findObj(n, d.layers[i].document);
    if (!x && d.getElementById) x = d.getElementById(n);
    return x;
}function MM_swapImage() {
    var i, j = 0, x, a = MM_swapImage.arguments;
    document.MM_sr = new Array;
    for (i = 0; i < (a.length - 2); i += 3) if ((x = MM_findObj(a[i])) != null) {
        document.MM_sr[j++] = x;
        if (!x.oSrc) x.oSrc = x.src;
        x.src = a[i + 2];
    }
}function checkadminlogin() {
    var mk = $("#adminmatkhau").val();
    if ($("#admintentruycap").val() == '') {
        alert($lang_js_me_tentruycap_empty);
        admintentruycap.focus();
        return false;
    }
    if ($("#adminmatkhau").val() == '') {
        alert($lang_js_me_matkhau_empty);
        adminmatkhau.focus();
        return false;
    }
    document.getElementById('adminmatkhau').value = MD5('bang.vn' + document.getElementById('adminmatkhau').value);
    return true;
}function CheckRegForm() {
    with (document.TheForm) {
        if (tentruycap.value == "") {
            alert($lang_js_me_tentruycap_empty);
            tentruycap.focus();
            return false;
        }
        if (matkhau.value == "") {
            alert($lang_js_me_matkhau_empty);
            matkhau.focus();
            return false;
        }
        matkhau.value = MD5('bang.vn' + matkhau.value);
    }
    return true;
}function QuickBox() {
    var o = $('#quick_box');
    if (o.css('display') == 'none') {
        o.show();
    } else {
        o.hide();
    }
}function checkinput(id, NOWTIC) {
    $('#' + id).text(Num2Word(NOWTIC));
}function addCommas(nStr) {
    nStr += '';
    x = nStr.split('.');
    x1 = x[0];
    x2 = x.length > 1 ? ',' + x[1] : '';
    var rgx = /(\d+)(\d{3})/;
    while (rgx.test(x1)) {
        x1 = x1.replace(rgx, '$1' + '.' + '$2');
    }
    return x1 + x2;
}function CheckValueIn(byid, byvalu, byprice, bymoney, byword, idfullprice, idfullmoney) {
    var aMax = document.getElementById([byid]).value;
    var aSoluong = document.getElementById([byvalu]).value;
    var aGia = document.getElementById([byprice]).innerHTML;
    var aTien = document.getElementById([bymoney]).innerHTML;
    var tempMAX = parseInt(aMax);
    var tempVAX = parseInt(aSoluong);
    var tempGAX = parseInt(aGia);
    var tempTIX = parseInt(aTien);
    if (tempVAX > tempMAX) {
        alert($lang_js_me_giatri_kolonhon + tempMAX);
        document.getElementById([byvalu]).value = tempMAX;
    }
    if (tempVAX < 1) {
        alert($lang_js_me_giaitri_konhohon1);
        document.getElementById([byvalu]).value = 1;
    }
    NOWTIC = tempGAX * document.getElementById([byvalu]).value;
    document.getElementById([bymoney]).innerHTML = NOWTIC;
    document.getElementById([idfullmoney]).innerHTML = addCommas(NOWTIC);
    var TOTO = document.getElementById('maxvalue').value;
    var mySum = 0;
    for (c = 1; c < TOTO; c++) {
        myVa = document.getElementById(['fullmoney' + c]).innerHTML;
        mySum += parseInt(myVa);
    }
    document.getElementById('ttmoney').innerHTML = addCommas(mySum)
    document.getElementById('tt2word').innerHTML = '<i>' + Num2Word(mySum) + '</i>';
}function numbersonly(e, decimal) {
    var key;
    var keychar;
    if (window.event) {
        key = window.event.keyCode;
    } else if (e) {
        key = e.which;
    } else {
        return true;
    }
    keychar = String.fromCharCode(key);
    if ((key == null) || (key == 0) || (key == 8) || (key == 9) || (key == 13) || (key == 27)) {
        return true;
    } else if ((("0123456789").indexOf(keychar) > -1)) {
        return true;
    } else if (decimal && (keychar == ".")) {
        return true;
    } else return false;
}function Num2Word(num, fmt) {
    num = Math.round(num).toString();
    if (num == 0) return $lang_js_me_giaitri_chuathietlap;
    var wnums = [['trăm', 'ngàn', 'triệu', 'tỷ', 'ngàn tỷ', 'ngàn ngàn tỷ'], ['một', 'nhất', 'mười', '', ' '], ['hai', 'thứ hai', 'hai mươi', 0, 0], ['ba', 'ba', 'ba mươi', 0, 0], ['bốn', 'bốn', 'bốn mươi', 0, 0], ['năm', 'lăm', 'năm mươi', 0, 0], ['sáu', 'sáu', 'sáu mươi', 0, 0], ['bảy', 'bảy', 'bảy mươi', 0, 0], ['tám', 'tám', 'tám mươi', 0, 0], ['chín', 'chín', 'chín mươi', 0, 0], ['mười',], ['mười một', 'hai mốt'], ['mười hai', 'hai mươi hai'], ['mười ba',], ['mười bốn', 'bốn mươi'], ['mười lăm',], ['mười sáu',], ['mười bảy',], ['mười tám',], ['mười chín',]];
    var dot = (num.length % 3) ? num.length % 3 : 3;
    var sets = Math.ceil(num.length / 3);
    var rslt = '';
    for (var i = 0; i < sets; i++) {
        var subt = num.substring((!i) ? 0 : dot + (i - 1) * 3, (!i) ? dot : dot + i * 3);
        if (subt != 0) {
            var hdec = (subt.length > 2) ? subt.charAt(0) : 0;
            var ddec = subt.substring(Math.max(subt.length - 2, 0), subt.length);
            var odec = subt.charAt(subt.length - 1);
            if (hdec != 0) rslt += ' ' + wnums[hdec][0] + ' trăm ' + ((fmt && ddec == 0) ? ' ' : '');
            if (ddec < 20 && 9 < ddec) {
                rslt += ' ' + ((fmt) ? ((wnums[ddec][1]) ? wnums[ddec][1] : wnums[ddec][0] + ' ') : wnums[ddec][0]);
            } else {
                if ((0 < hdec || 1 < sets) && i + 1 == sets && 0 < ddec && ddec < 10) rslt += 'và ';
                if (19 < ddec) rslt += wnums[ddec.charAt(0)][(wnums[ddec.charAt(0)][2]) ? 2 : 0] + ((i + 1 == sets && odec == 0 && fmt) ? 'tieth' : ' ') + ((0 < odec) ? ' ' : ' ');
                if (0 < odec) rslt += wnums[odec][(i + 1 == sets && fmt) ? 1 : 0];
            }
            if (i + 1 < sets) rslt += ' ' + wnums[0][sets - i - 1] + ' ';
        } else if (i + 1 == sets && fmt) {
            rslt += ' ';
        }
    }
    var str1 = 'mươi  năm';
    var str2 = 'mươi lăm';
    rslt = rslt.replace(str1, str2);
    rslt = rslt.replace(str1, str2);
    rslt = rslt.replace(str1, str2);
    rslt = rslt.replace(str1, str2);
    rslt = rslt.replace(str1, str2);
    rslt = rslt.replace(str1, str2);
    str1 = 'mươi  một';
    str2 = 'mươi mốt';
    rslt = rslt.replace(str1, str2);
    rslt = rslt.replace(str1, str2);
    rslt = rslt.replace(str1, str2);
    rslt = rslt.replace(str1, str2);
    rslt = rslt.replace(str1, str2);
    rslt = rslt.replace(str1, str2);
    return rslt + ' đồng';
}function isUndefined(variable) {
    return typeof variable == 'undefined' ? true : false;
}function ShowHidden(divid) {
    $('#' + divid).slideToggle();
}
function Check_Shopping_Cart() {
    with (document.TheFormX) {
        if (tendaydu.hasAttribute('required') && tendaydu.value.length < 3) {
            alert($lang_js_me_cart_tendaydu);
            tendaydu.focus();
            return false;
        }
        if (email.hasAttribute('required') && email.value.length < 5) {
            alert($lang_js_me_cart_email);
            email.value = "";
            email.focus();
            return false;
        }
        if (email.value != '' && (email.value.indexOf("@") < 0 || email.value.indexOf(".") < 0)) {
            alert($lang_js_me_email_error);
            email.focus();
            return false;
        }
        if (diachi.hasAttribute('required') && diachi.value.length < 5) {
            alert($lang_js_me_cart_diachi);
            diachi.focus();
            return false;
        }
        if (dienthoai.hasAttribute('required') && dienthoai.value.length < 5) {
            alert($lang_js_me_cart_dienthoai);
            dienthoai.value = "";
            dienthoai.focus();
            return false;
        }
        if (dienthoai.value != '' && (isNaN(dienthoai.value) || dienthoai.value.length < 10 || dienthoai.value.length > 13)) {
            alert($lang_js_me_phone_error);
            dienthoai.value = "";
            dienthoai.focus();
            return false;
        }
        if (mabaove.has.Attribute('required') && mabaove.value.length < 3) {
            alert($lang_js_me_code_error);
            mabaove.focus();
            return false;
        }

        var check_nhan_hang = document.getElementById('checkedboxnhanhang') && document.getElementById('checkedboxnhanhang').checked;
        if ((check_nhan_hang || cf_tendaydu.hasAttribute('required')) && cf_tendaydu.value.length < 3) {
            alert($lang_js_me_cart_tendaydu);
            cf_tendaydu.focus();
            return false;
        }
        if ((check_nhan_hang || cf_email.hasAttribute('required')) && cf_email.value.length < 5) {
            alert($lang_js_me_cart_email);
            cf_email.value = "";
            cf_email.focus();
            return false;
        }
        if (check_nhan_hang && cf_email.value != '' && (cf_email.value.indexOf("@") < 0 || cf_email.value.indexOf(".") < 0)) {
            alert($lang_js_me_email_error);
            cf_email.value = "";
            cf_email.focus();
            return false;
        }
        if ((check_nhan_hang || cf_diachi.hasAttribute('required')) && cf_diachi.value == "") {
            alert($lang_js_me_cart_diachi);
            cf_diachi.focus();
            return false;
        }
        if ((check_nhan_hang || cf_dienthoai.hasAttribute('required')) && (isNaN(cf_dienthoai.value) || cf_dienthoai.value == "")) {
            alert($lang_js_me_cart_dienthoai);
            cf_dienthoai.value = "";
            cf_dienthoai.focus();
            return false;
        }
        if (check_nhan_hang && cf_dienthoai.value != '' && (cf_dienthoai.value.length < 10 || cf_dienthoai.value.length > 13)) {
            alert($lang_js_me_phone_error);
            cf_dienthoai.value = "";
            cf_dienthoai.focus();
            return false;
        }
    }
    $('.submitbutton').css('display','none');
    $('.disdathang').css('display','inline-block');
    return true;
}

function validatePhone(phone)
{
    var a = phone.val().trim();
    var text = a.slice(0, 1);

    var filter = /^0\d\d{8,10}$/;
    if (text == '+') {
        filter = /^\+\d\d{8,20}$/;
    }
    return filter.test(a);
}
function checkShoppingCartNew() {
    var tendaydu = $('#tendaydu');
    var email = $('#email');
    var diachi = $('#diachi');
    var dienthoai = $('#dienthoai');
    var cf_tendaydu = $('#cf_tendaydu');
    var cf_diachi = $('#cf_diachi');
    var cf_dienthoai = $('#cf_dienthoai');
    var mabaove = $('#mabaove');
    var lang_process = $('#lang_proccess');
    var methodShipping = $('input[name="methodShipping"]');
    if (mabaove.attr('required') && mabaove.val().length < 3) {
        alert($lang_js_me_code_error);
        mabaove.focus();
        return false;
    }

    if (tendaydu.attr('required') && tendaydu.val().length < 3) {
        alert($lang_js_me_cart_tendaydu);
        tendaydu.focus();
        return false;
    }
    if (email.attr('required') && email.val().length == 0) {
        alert($lang_js_me_cart_email);
        email.focus();
        return false;
    }
    if (email.val().length > 1) {
        var regex = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z-0-9]{2,4})+$/;
        if (!regex.test(email.val())) {
            alert($lang_js_me_email_error);
            email.focus();
            return false;
        }
    }
    if (diachi.attr('required') && diachi.val().length < 5) {
        alert($lang_js_me_cart_diachi);
        diachi.focus();
        return false;
    }
    if (!validatePhone(dienthoai)) {
        alert($lang_js_me_phone_error);
        dienthoai.focus();
        return false;
    }

    if (cf_tendaydu.attr('required') && cf_tendaydu.val().length < 3) {
        alert($lang_js_me_cart_tendaydu);
        cf_tendaydu.focus();
        return false;
    }
    if (cf_diachi.attr('required') && cf_diachi.val().length < 5) {
        alert($lang_js_me_cart_diachi);
        cf_diachi.focus();
        return false;
    }
    if (!validatePhone(cf_dienthoai)) {
        alert($lang_js_me_phone_error);
        cf_dienthoai.focus();
        return false;
    }

    if (methodShipping.length > 0) {
        if (methodShipping.is(':checked') == false) {
            alert($lang_js_me_empty_ctu);
            return false;
        }
    }
    $('.confirm-cart').prop('type','button');
    $('.confirm-cart').val(lang_process.val());
    return true;
}

function Check_Form_Name_Contact() {
    var emailReg =  /^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;
    with (document.FormNameContact) {
        if (tendaydu.value.trim().length < 3) {
            alert($lang_js_me_cart_tendaydu);
            tendaydu.focus();
            return false;
        }
        if(dienthoai.value.length >0){
            if (isNaN(dienthoai.value)) {
                alert($lang_js_me_cart_dienthoai);
                dienthoai.focus();
                return false;
            }else {
                if (dienthoai.value.length < 10 || dienthoai.value.length > 13){
                    alert($lang_js_me_phone_error);
                    dienthoai.focus();
                    return false;
                }
            }
        }
        if (email.value == "" || email.value.length<5 || !emailReg.test(email.value)) {
            alert($lang_js_me_cart_email);
            email.focus();
            return false;
        } else {
            if (email.value.indexOf("@") < 0 || email.value.indexOf(".") < 0) {
                alert($lang_js_me_email_error);
                email.focus();
                email.value="";
                return false;
            }
        }
        if (noidung instanceof HTMLInputElement || noidung.value.trim().length < 5){
            alert($lang_js_me_messenger_error);
            noidung.focus();
            return false;
        }
        if (typeof mabaove !== 'undefined' && mabaove instanceof HTMLInputElement && mabaove.value.length < 3){
            alert($lang_js_me_code_error);
            mabaove.focus();
            return false;
        }
    }
    $('.submitbutton').css('display','none');
    $('.disdathang').css('display','inline-block');
    return true;
}function SetCurrency_by_id(id) {
    var myvalue = $("#" + id).val();
    myvalue = myvalue.replace(/\,/g, '');
    myvalue = addCommas(myvalue);
    $("#" + id).val(myvalue);
}function SetCurrency() {
    var myvalue = $("#giaban").val();
    myvalue = myvalue.replace(/\,/g, '');
    myvalue = addCommas(myvalue);
    $("#giaban").val(myvalue);
}function setCurrencyFormat() {
    var myvalue = $("#giaban").val();
    myvalue = myvalue.replace(/\,/g, '');
    var currency = Number(myvalue).toLocaleString('en-US');
    $("#giaban").val(currency);
}function Check_RegMember() {
    var u = $("#reg_tentruycap").val();
    var e = $("#reg_email").val();
    var p = $("#reg_matkhau").val();
    var m = $("#reg_mabaove").val();
    if (u.length <3) {
        alert($lang_js_me_tentruycap_empty);
//        alert($lang_js_me_tentruycap_empty+" \n+"+$lang_js_me_tentruycap_lonhon6+"\n+"+lang_js_me_tentruycap_batdauaz);
        $("#reg_tentruycap").focus();
        return false;
    }
    if (e == "" || e.length < 3) {
        alert($lang_js_me_cart_email);
        $("#reg_email").focus();
        return false;
    } else {
        if (e.indexOf("@") < 0 || e.indexOf(".") < 0) {
            alert($lang_js_me_email_error);
            $("#reg_email").focus();
            return false;
        }
    }
    if (p == "" || p.length < 3) {
        alert($lang_js_me_matkhau_empty);
        $("#reg_matkhau").focus();
        return false;
    }
    if (m < 3){
        alert($lang_js_me_mabaove_empty);
        $("#reg_mabaove").focus();
        return false;
    }
    $("#reg_matkhau").val(MD5('bang.vn' + p));
    return true;
}function NewsLetter() {
    var e = $("#newsletter_id").val();
    if (e.indexOf("@") < 0 || e.indexOf(".") < 0) {
        alert($lang_js_me_email_error);
        $("#newsletter_id").focus();
        return false;
    }
    var url = '/?module=website&action=newsletters';
    $.post(url, {email: e}, function (data) {
        result = parseInt(data);
        if (result == 1) {
            alert($lang_js_me_email_error);
        } else if (result == 2) {
            alert($lang_js_me_email_exist);
        } else if (result == 0) {
            alert($lang_js_me_thanks_reg);
        } else location.reload();
    });
}function Check_LoginMember2(uid, pid) {
    var mk = $("#" + pid).val();
    if ($("#" + uid).val() == '') {
        alert($lang_js_me_tentruycap_empty);
        $("#" + uid).focus();
        return false;
    }
    if (mk == '') {
        alert($lang_js_me_matkhau_empty);
        mk.focus();
        return false;
    }
    $("#" + pid).val(MD5('bang.vn' + mk));
    return true;
}function Check_LoginMember(uid, pid) {
    var mk = $("#" + pid).val();
    if ($("#" + uid).val() == '') {
        alert($lang_js_me_tentruycap_empty);
        $("#" + uid).focus();
        return false;
    }
    if (mk == '') {
        alert($lang_js_me_matkhau_empty);
        mk.focus();
        return false;
    }
    $("#" + pid).val(MD5('bang.vn' + mk));
    return true;
}function Check_MemberChangePass(p1, p2) {
    var mk1 = $("#" + p1).val();
    var mk2 = $("#" + p2).val();
    if ($("#" + p1).val() == '') {
        alert($lang_js_me_matkhau_now);
        $("#" + p1).focus();
        return false;
    }
    if ($("#" + p2).val() == '') {
        alert($lang_js_me_matkhau_new);
        $("#" + p2).focus();
        return false;
    }
    $("#" + p1).val(MD5('bang.vn' + mk1));
    $("#" + p2).val(MD5('bang.vn' + mk2));
    return true;
}function Check_LossMember(pemail) {
    var e = $("#" + pemail).val();
    if (e == "") {
        alert($lang_js_me_cart_email);
        $("#" + pemail).focus();
        return false;
    } else {
        if (e.indexOf("@") < 0 || e.indexOf(".") < 0) {
            alert($lang_js_me_email_error);
            $("#" + pemail).focus();
            return false;
        }
    }
    return true;
}function PleazeLogin() {
    alert($lang_js_me_please_login);
}function ajax_action(id, ty) {
    var url = "/LoveAjax/" + ty;
    $.post(url, {comment_id: id, ty: ty}, function (result) {
        result = parseInt(result);
        if (result == 0) {
            alert($lang_js_me_please_login);
        } else if (result == 1) {
            if (ty == 1) alert($lang_js_me_exist_sp_like); else alert($lang_js_me_exist_sp_want);
        } else {
            if (ty == 1) {
                var love = parseInt($("#love_" + id).html());
                $("#love_" + id).html(love + 1);
                alert($lang_js_me_sp_like);
            } else {
                var want = parseInt($("#want_" + id).html());
                $("#want_" + id).html(want + 1);
                alert($lang_js_me_sp_want);
            }
        }
    });
}function hex(x) {
    var hexDigits = new Array("0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "a", "b", "c", "d", "e", "f");
    return isNaN(x) ? "00" : hexDigits[(x - x % 16) / 16] + hexDigits[x % 16];
}function rgb2hex(rgb) {
    rgb = rgb.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);
    return "#" + hex(rgb[1]) + hex(rgb[2]) + hex(rgb[3]);
}function setcolor(rgb) {
    var nameofcolor = $("#id_mausac_color");
    var hex = rgb2hex(rgb);
    nameofcolor.val(hex);
    nameofcolor.css("background-color", hex);
}function SetImg(setdiv, url_img, ty) {
    var nameofimg = $("#" + setdiv);
    nameofimg.css("background-image", "url('/" + url_img + "')");
    if (ty == 1) nameofimg.html("<img src='/" + url_img + "' width='300' height='290'>");
}function ShowOp(value) {
    $(".optx").hide();
    if (value > 0) $("#op" + value).show();
}

$(window).on('load', function(){
    setTimeout(function (){
        $('.autoCaptcha').each(function(){
            var obj = $(this);
            var type = obj.data('type');
            var url = '/imgcode.php?time=' + Math.random();
            if (type) {
                url = url + '&type=' + type;
            }
            obj.append('<img src="' + url + '"/><a class="renewCaptcha"><i class="fa fa-refresh" aria-hidden="true"></i></a>');
        });
    }, 1000);

    $(document)
        .on('hover', '.renewCaptcha > i', null, function(){
            $(this).addClass('fa-spin');
        })
        .on('mouseleave', '.renewCaptcha > i', null, function(){
            $(this).removeClass('fa-spin');
        })
        .on('click', '.renewCaptcha', null, function(){
            var imgCaptcha = $(this).closest('.autoCaptcha').find('img:first');
            var src = imgCaptcha.prop('src') + '&refresh_' + Math.random();
            imgCaptcha.prop('src', src);
        })
});

/* script video va hinh anh - Hieu trinh*/
$(window).bind("load", function () {
    resizeimg();
    resize_databtn();
    resizetintuc();
});

$(window).resize(function () {
    resize_databtn();
    resizeimg();
    resizetintuc();

});

function resizeimg() {
    $(".dv-child-sp").height("auto");
    $(".dv-child-sp div a img").height("auto");
    var arr_size = [];
    var arr_size_img = [];

    $(".dv-child-sp div a img").each(function (i, obj) {
        var height_imgs = $(this).height();
        arr_size_img.push(height_imgs);
    });
    $(".dv-child-sp div a img").height(Math.max.apply(Math, arr_size_img));
    $(".dv-child-sp").each(function (i, obj) {
        var height_img = $(this).height();
        arr_size.push(height_img);
    });
    $(".dv-child-sp").height(Math.max.apply(Math, arr_size));
}
// Resize thong tin tin tuc

function resizetintuc() {
    $('.box_cis0').removeAttr('style');
    $('.box_cis0').css("width", "100%");
    $('.box_cis0').css("border-bottom", "1px solid #CCC");
}

// resize button text

function resize_databtn() {
    $(".hf-text").css('min-height', 'auto');
    var arr_size_img = [];
    $(".hf-text").each(function (i, obj) {
        var height_imgs = $(this).height();
        arr_size_img.push(height_imgs);
    });
    $(".hf-text").css('min-height', Math.max.apply(Math, arr_size_img));
}
/* script video va hinh anh - Hieu trinh*/

function JS_bodau_tv(cataname_id, seo_name, id, prefix)
{
    var str = $(cataname_id).val();
    str = str.toLowerCase();
    str = str.trim();
    str = str.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g,"a");
    str = str.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g,"e");
    str = str.replace(/ì|í|ị|ỉ|ĩ/g,"i");
    str = str.replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g,"o");
    str = str.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g,"u");
    str = str.replace(/ỳ|ý|ỵ|ỷ|ỹ/g,"y");
    str = str.replace(/đ/g,"d");
    str = str.replace(/!|@|%|\^|\*|\(|\)|\+|\=|\<|\>|\?|\/|,|\.|\:|\;|\'| |\"|\&|\#|\[|\]|~|$|_/g,"-");
    str = str.replace(/-+-/g,"-");
    str = str.replace(/^\-+|\-+$/g,"");
    if(typeof id === "undefined" || id == '' || id == 0) {
        if (prefix && str !== '') {
            str = prefix + str;
        }

        if ($(seo_name).is('input, textarea, select')) {
            $(seo_name).val(str);
        } else {
            $(seo_name).text(str);
        }
    }
}

function ADD_rep(nStr){
    nStr+='';
    var x 	= nStr.split('.');
    var x1 	= x[0];
    var x2 	= x.length>1?'.'+x[1]:'';
    var rgx = /(\d+)(\d{3})/;
    while(rgx.test(x1)){
        x1 = x1.replace(rgx,'$1'+','+'$2');
    }
    return x1+x2;
}
function REP_number(cls){
    var myvalue = $(cls).val();
    myvalue 	= myvalue.replace(/\,/g,'');
    myvalue 	= ADD_rep(myvalue);
    $(cls).val(myvalue);
}

//ThangPhan created 16/11/2017
function Check_Form(arrayform_json) {
    for(var key in arrayform_json){
        if($('#'+key).val() === ''){
            if ($('#' + key).closest('.tab-pane').length > 0) {
                $('.nav-tabs a[href="#' + $('#' + key).closest('.tab-pane').attr('id') + '"]').trigger('click');
            }
            alert('Vui lòng nhập "' + arrayform_json[key] + '"');
            $($('#' + key).closest('.modal.fade.in').length > 0 ? '.modal.fade.in' : 'html, body').animate({scrollTop: $('#' + key).offset().top - 10}, 500);
            $('#' + key).focus();
            return false;
        }
    }
    return true;
}
function Check_post_listing() {
    var tieudetin = $("#batdongsan_dangtin-tieudetin").val();
    var loaibdsid = $("#batdongsan_dangtin-loaibdsid").val();
    var tinhthanhid = $("#batdongsan_dangtin-tinhthanhid").val();
    var hotenlienhe = $("#batdongsan_dangtin-hotenlienhe").val();
    var didonglienhe = $("#batdongsan_dangtin-didonglienhe").val();
    var emailienhe = $("#batdongsan_dangtin-emailienhe").val();
    var mabaove = $("#mabaove").val();
    if (tieudetin == '') {
        alert($lang_js_me_bds_tieudetin_empty);
        $('html, body').animate({scrollTop: $('#batdongsan_dangtin-tieudetin').offset().top - 10}, 1000);
        $("#batdongsan_dangtin-tieudetin").focus();
        return false;
    }
    if (loaibdsid == '') {
        alert($lang_js_me_bds_loaibds_empty);
        $('html, body').animate({scrollTop: $('#batdongsan_dangtin-loaibdsid').offset().top - 10}, 1000);
        $("#batdongsan_dangtin-loaibdsid").focus();
        return false;
    }
    if (tinhthanhid == '') {
        alert($lang_js_me_bds_tinhthanh_empty);
        $('html, body').animate({scrollTop: $('#batdongsan_dangtin-tinhthanhid').offset().top - 10}, 1000);
        $("#batdongsan_dangtin-tinhthanhid").focus();
        return false;
    }
    if (hotenlienhe == '') {
        alert($lang_js_me_bds_hotenlienhe_empty);
        $('html, body').animate({scrollTop: $('#batdongsan_dangtin-hotenlienhe').offset().top - 10}, 1000);
        $("#batdongsan_dangtin-hotenlienhe").focus();
        return false;
    }
    if (didonglienhe == '') {
        alert($lang_js_me_cart_dienthoai);
        $('html, body').animate({scrollTop: $('#batdongsan_dangtin-didonglienhe').offset().top - 10}, 1000);
        $("#batdongsan_dangtin-didonglienhe").focus();
        return false;
    }else{
        if (didonglienhe.length < 10 || didonglienhe.length > 13) {
            alert($lang_js_me_phone_error);
            $('html, body').animate({scrollTop: $('#batdongsan_dangtin-didonglienhe').offset().top - 10}, 1000);
            $("#batdongsan_dangtin-didonglienhe").focus();
            return false;
        }
    }
    if(emailienhe != ''){
        if (emailienhe.indexOf("@") < 0 || emailienhe.indexOf(".") < 0) {
            alert($lang_js_me_email_error);
            $('html, body').animate({scrollTop: $('#batdongsan_dangtin-emailienhe').offset().top - 10}, 1000);
            $("#batdongsan_dangtin-emailienhe").focus();
            return false;
        }
    }
    if (mabaove == '') {
        alert($lang_js_me_mabaove_empty);
        $('html, body').animate({scrollTop: $('#mabaove').offset().top - 10}, 1000);
        $("#mabaove").focus();
        return false;
    }else{
        if (mabaove.length < 3){
            alert($lang_js_me_code_error);
            $('html, body').animate({scrollTop: $('#mabaove').offset().top - 10}, 1000);
            $("#mabaove").focus();
            return false;
        }
    }
    return true;
}
//End ThangPhan

function formatCurrency($money, delimiter) {
    if (typeof delimiter === 'undefined') {
        delimiter = ".";
    }
    return $money.toString().replace(/\B(?=(\d{3})+(?!\d))/g, delimiter);
}
function SHOW_nd(string) {
    var entityMap = {
        '&': '&amp;',
        '<': '&lt;',
        '>': '&gt;',
        '"': '&quot;',
        "'": '&#39;',
        '/': '&#x2F;',
        '`': '&#x60;',
        '=': '&#x3D;'
    };
    return string.replace(/[&<>"'`=\/]/g, function (s) {
        return entityMap[s];
    });
}
function CheckMemberChangePass(p1, p2, p3) {
    var mk1 = $("#" + p1).val();
    var mk2 = $("#" + p2).val();
    var mk3 = $("#" + p3).val();
    if (mk1 == '') {
        alert($lang_js_me_matkhau_now);
        $("#" + p1).focus();
        return false;
    }
    if (mk2 == '') {
        alert($lang_js_me_matkhau_new);
        $("#" + p2).focus();
        return false;
    }
    if (mk3 != mk2) {
        alert($lang_js_me_matkhau_nhaplai);
        $("#" + p3).focus();
        return false;
    }
    $("#" + p1).val(MD5('bang.vn' + mk1));
    $("#" + p2).val(MD5('bang.vn' + mk2));
    return true;
}

